<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_008keuw" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.11.1">
  <bpmn:process id="wwwnetzwerk-universitaetsmedizinde_dataSend" isExecutable="true" camunda:versionTag="#{version}">
    <bpmn:startEvent id="DataSendMessageStartEvent" name="start data send process">
      <bpmn:outgoing>Flow_1km61ly</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_07sumgd" messageRef="Message_0mcjkpi" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1km61ly" sourceRef="DataSendMessageStartEvent" targetRef="extractPatientReference" />
    <bpmn:serviceTask id="CheckConsent" name="check consent" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.CheckConsent">
      <bpmn:incoming>Flow_06456ku</bpmn:incoming>
      <bpmn:outgoing>Flow_0g5a4jz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ReadData" name="read data" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.ReadData">
      <bpmn:incoming>Flow_0wpfzi1</bpmn:incoming>
      <bpmn:outgoing>Flow_0yamo5r</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0yamo5r" sourceRef="ReadData" targetRef="ValidateData" />
    <bpmn:sequenceFlow id="Flow_0zrvqk8" sourceRef="ValidateData" targetRef="EncryptData" />
    <bpmn:sequenceFlow id="Flow_109e2pt" sourceRef="StoreDataForTransferHub" targetRef="StartDataTranslateProcess" />
    <bpmn:serviceTask id="ValidateData" name="validate data" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.ValidateData">
      <bpmn:incoming>Flow_0yamo5r</bpmn:incoming>
      <bpmn:outgoing>Flow_0zrvqk8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="EncryptData" name="encrypt data" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.EncryptData">
      <bpmn:incoming>Flow_0zrvqk8</bpmn:incoming>
      <bpmn:outgoing>Flow_0smf5sr</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0smf5sr" sourceRef="EncryptData" targetRef="StoreDataForTransferHub" />
    <bpmn:serviceTask id="StoreDataForTransferHub" name="store data for GTH" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.StoreDataForTransferHub">
      <bpmn:incoming>Flow_0smf5sr</bpmn:incoming>
      <bpmn:outgoing>Flow_109e2pt</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0h3dkik">
      <bpmn:incoming>Flow_0odw7ag</bpmn:incoming>
      <bpmn:incoming>Flow_12xkou2</bpmn:incoming>
      <bpmn:outgoing>Flow_0wpfzi1</bpmn:outgoing>
      <bpmn:outgoing>Flow_0tsm3rc</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0wpfzi1" sourceRef="Gateway_0h3dkik" targetRef="ReadData">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${usageAndTransferGranted}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0tsm3rc" name="data usage or transfer not allowed" sourceRef="Gateway_0h3dkik" targetRef="HandleNoConsentUsageAndTransfer">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!usageAndTransferGranted}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="HandleNoConsentUsageAndTransfer" name="set no consent usage and transfer error" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.HandleNoConsentUsageAndTransfer">
      <bpmn:incoming>Flow_0tsm3rc</bpmn:incoming>
      <bpmn:outgoing>Flow_0nrf7fq</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="extractPatientReference" name="extract patient reference" camunda:asyncAfter="true" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.ExtractPatientReference">
      <bpmn:incoming>Flow_1km61ly</bpmn:incoming>
      <bpmn:outgoing>Flow_06456ku</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="resolvePsn" name="resolve psn" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.ResolvePseudonym">
      <bpmn:incoming>Flow_05s6sr1</bpmn:incoming>
      <bpmn:outgoing>Flow_12xkou2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0qci4qw">
      <bpmn:incoming>Flow_0g5a4jz</bpmn:incoming>
      <bpmn:outgoing>Flow_0odw7ag</bpmn:outgoing>
      <bpmn:outgoing>Flow_0wugx7a</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0g5a4jz" sourceRef="CheckConsent" targetRef="Gateway_0qci4qw" />
    <bpmn:sequenceFlow id="Flow_12xkou2" sourceRef="resolvePsn" targetRef="Gateway_0h3dkik" />
    <bpmn:sequenceFlow id="Flow_0odw7ag" name="psn identifier" sourceRef="Gateway_0qci4qw" targetRef="Gateway_0h3dkik">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${patientReference.hasIdentifier() &amp;&amp; !patientReference.hasAbsoluteReference()}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:serviceTask id="handleNoConsentIdatMerge" name="set no consent IDAT merge error" camunda:class="de.netzwerk_universitaetsmedizin.codex.processes.data_transfer.service.HandleNoConsentIdatMerge">
      <bpmn:incoming>Flow_0pt6h5d</bpmn:incoming>
      <bpmn:outgoing>Flow_04t997c</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0ii6gnq">
      <bpmn:incoming>Flow_0wugx7a</bpmn:incoming>
      <bpmn:outgoing>Flow_05s6sr1</bpmn:outgoing>
      <bpmn:outgoing>Flow_0pt6h5d</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0wugx7a" name="absolut patient reference" sourceRef="Gateway_0qci4qw" targetRef="Gateway_0ii6gnq">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!patientReference.hasIdentifier() &amp;&amp; patientReference.hasAbsoluteReference()}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_05s6sr1" sourceRef="Gateway_0ii6gnq" targetRef="resolvePsn">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${idatMergeGranted}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0pt6h5d" name="IDAT merge not allowed" sourceRef="Gateway_0ii6gnq" targetRef="handleNoConsentIdatMerge">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!idatMergeGranted}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_06456ku" sourceRef="extractPatientReference" targetRef="CheckConsent" />
    <bpmn:intermediateThrowEvent id="StartDataTranslateProcess" name="start data translate process">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="instantiatesUri">http://www.netzwerk-universitaetsmedizin.de/bpe/Process/dataTranslate/#{version}</camunda:inputParameter>
          <camunda:inputParameter name="messageName">startDataTranslate</camunda:inputParameter>
          <camunda:inputParameter name="profile">http://www.netzwerk-universitaetsmedizin.de/fhir/StructureDefinition/task-start-data-translate|#{version}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_109e2pt</bpmn:incoming>
      <bpmn:outgoing>Flow_1oxjmgh</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1e67zdc" />
    </bpmn:intermediateThrowEvent>
    <bpmn:boundaryEvent id="Event_1cqf68a" attachedToRef="StoreDataForTransferHub">
      <bpmn:outgoing>Flow_01cz1ir</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0wg2ajw" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_1l3631s" attachedToRef="EncryptData">
      <bpmn:outgoing>Flow_1mff8mx</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1rnm9sm" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_0c8ajbv" attachedToRef="ValidateData">
      <bpmn:outgoing>Flow_0sy09vc</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1je7wd8" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_1h36t2u" attachedToRef="ReadData">
      <bpmn:outgoing>Flow_040kkv8</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_19dtghv" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_0wsri1t" attachedToRef="resolvePsn">
      <bpmn:outgoing>Flow_18cfw7e</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1y890q0" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_1a355wx" attachedToRef="CheckConsent">
      <bpmn:outgoing>Flow_0yow5g2</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0s52jlz" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_09702b0" attachedToRef="extractPatientReference">
      <bpmn:outgoing>Flow_1ojlya5</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0se5uau" />
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Activity_1y9k3lt" name="delete data for GTH">
      <bpmn:incoming>Flow_15v0mpq</bpmn:incoming>
      <bpmn:outgoing>Flow_143c49o</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1qen8dc" name="set timeout error">
      <bpmn:incoming>Flow_0yofyrq</bpmn:incoming>
      <bpmn:outgoing>Flow_1tal48r</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1xl8e8s" name="check for error">
      <bpmn:incoming>Flow_143c49o</bpmn:incoming>
      <bpmn:outgoing>Flow_15lb3lf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0if37bo">
      <bpmn:incoming>Flow_15lb3lf</bpmn:incoming>
      <bpmn:outgoing>Flow_1yj09fp</bpmn:outgoing>
      <bpmn:outgoing>Flow_0s9c6mf</bpmn:outgoing>
      <bpmn:outgoing>Flow_0ervxi8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_1e8212a" name="log success">
      <bpmn:incoming>Flow_1yj09fp</bpmn:incoming>
      <bpmn:outgoing>Flow_0ixpqv3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1o2m082" name="download validation error from GTH">
      <bpmn:incoming>Flow_0s9c6mf</bpmn:incoming>
      <bpmn:outgoing>Flow_0nml49u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0vorh8u" name="log error">
      <bpmn:incoming>Flow_16ouahu</bpmn:incoming>
      <bpmn:outgoing>Flow_188eh1h</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_0z6ujob" attachedToRef="Activity_1o2m082">
      <bpmn:outgoing>Flow_1784u2y</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0kwoa65" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_15lb3lf" sourceRef="Activity_1xl8e8s" targetRef="Gateway_0if37bo" />
    <bpmn:sequenceFlow id="Flow_1yj09fp" name="success" sourceRef="Gateway_0if37bo" targetRef="Activity_1e8212a" />
    <bpmn:sequenceFlow id="Flow_0s9c6mf" name="validation error" sourceRef="Gateway_0if37bo" targetRef="Activity_1o2m082" />
    <bpmn:sequenceFlow id="Flow_143c49o" sourceRef="Activity_1y9k3lt" targetRef="Activity_1xl8e8s" />
    <bpmn:exclusiveGateway id="Gateway_13fyv2x">
      <bpmn:incoming>Flow_1784u2y</bpmn:incoming>
      <bpmn:incoming>Flow_0ervxi8</bpmn:incoming>
      <bpmn:incoming>Flow_01cz1ir</bpmn:incoming>
      <bpmn:incoming>Flow_1mff8mx</bpmn:incoming>
      <bpmn:incoming>Flow_0sy09vc</bpmn:incoming>
      <bpmn:incoming>Flow_040kkv8</bpmn:incoming>
      <bpmn:incoming>Flow_0nrf7fq</bpmn:incoming>
      <bpmn:incoming>Flow_18cfw7e</bpmn:incoming>
      <bpmn:incoming>Flow_04t997c</bpmn:incoming>
      <bpmn:incoming>Flow_0yow5g2</bpmn:incoming>
      <bpmn:incoming>Flow_1ojlya5</bpmn:incoming>
      <bpmn:incoming>Flow_0cyogvc</bpmn:incoming>
      <bpmn:outgoing>Flow_16ouahu</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1784u2y" sourceRef="Event_0z6ujob" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_16ouahu" sourceRef="Gateway_13fyv2x" targetRef="Activity_0vorh8u" />
    <bpmn:endEvent id="Event_0gv80z3">
      <bpmn:incoming>Flow_188eh1h</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_188eh1h" sourceRef="Activity_0vorh8u" targetRef="Event_0gv80z3" />
    <bpmn:endEvent id="Event_1pp5ms7">
      <bpmn:incoming>Flow_0ixpqv3</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0ixpqv3" sourceRef="Activity_1e8212a" targetRef="Event_1pp5ms7" />
    <bpmn:sequenceFlow id="Flow_0ervxi8" name="error" sourceRef="Gateway_0if37bo" targetRef="Gateway_13fyv2x" />
    <bpmn:boundaryEvent id="Event_1hd3unp" attachedToRef="Activity_1y9k3lt">
      <bpmn:outgoing>Flow_0cyogvc</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_1dvdeo6" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_01cz1ir" sourceRef="Event_1cqf68a" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_1mff8mx" sourceRef="Event_1l3631s" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_0sy09vc" sourceRef="Event_0c8ajbv" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_040kkv8" sourceRef="Event_1h36t2u" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_0nrf7fq" sourceRef="HandleNoConsentUsageAndTransfer" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_18cfw7e" sourceRef="Event_0wsri1t" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_04t997c" sourceRef="handleNoConsentIdatMerge" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_0yow5g2" sourceRef="Event_1a355wx" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_1ojlya5" sourceRef="Event_09702b0" targetRef="Gateway_13fyv2x" />
    <bpmn:sequenceFlow id="Flow_0cyogvc" sourceRef="Event_1hd3unp" targetRef="Gateway_13fyv2x" />
    <bpmn:serviceTask id="Activity_1oi9ubs" name="log validation error">
      <bpmn:incoming>Flow_0nml49u</bpmn:incoming>
      <bpmn:outgoing>Flow_0n0bslx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0nml49u" sourceRef="Activity_1o2m082" targetRef="Activity_1oi9ubs" />
    <bpmn:endEvent id="Event_0rqmftl">
      <bpmn:incoming>Flow_0n0bslx</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0n0bslx" sourceRef="Activity_1oi9ubs" targetRef="Event_0rqmftl" />
    <bpmn:exclusiveGateway id="Gateway_1lp4ez4">
      <bpmn:incoming>Flow_1tal48r</bpmn:incoming>
      <bpmn:incoming>Flow_009empz</bpmn:incoming>
      <bpmn:incoming>Flow_0soepqw</bpmn:incoming>
      <bpmn:incoming>Flow_0tjvgz8</bpmn:incoming>
      <bpmn:outgoing>Flow_15v0mpq</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_15v0mpq" sourceRef="Gateway_1lp4ez4" targetRef="Activity_1y9k3lt" />
    <bpmn:sequenceFlow id="Flow_1tal48r" sourceRef="Activity_1qen8dc" targetRef="Gateway_1lp4ez4" />
    <bpmn:sequenceFlow id="Flow_1oxjmgh" sourceRef="StartDataTranslateProcess" targetRef="Gateway_1msqj8s" />
    <bpmn:eventBasedGateway id="Gateway_1msqj8s">
      <bpmn:incoming>Flow_1oxjmgh</bpmn:incoming>
      <bpmn:outgoing>Flow_1pyjkzx</bpmn:outgoing>
      <bpmn:outgoing>Flow_0lcotqz</bpmn:outgoing>
      <bpmn:outgoing>Flow_0egy89t</bpmn:outgoing>
      <bpmn:outgoing>Flow_1dsdmf9</bpmn:outgoing>
    </bpmn:eventBasedGateway>
    <bpmn:intermediateCatchEvent id="Event_18orse0" name="continue send process">
      <bpmn:incoming>Flow_1pyjkzx</bpmn:incoming>
      <bpmn:outgoing>Flow_009empz</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ha1lrc" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_1pyjkzx" sourceRef="Gateway_1msqj8s" targetRef="Event_18orse0" />
    <bpmn:intermediateCatchEvent id="Event_10mjddt" name="continue send process with validation error">
      <bpmn:incoming>Flow_0lcotqz</bpmn:incoming>
      <bpmn:outgoing>Flow_0tjvgz8</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1sh81cr" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0lcotqz" sourceRef="Gateway_1msqj8s" targetRef="Event_10mjddt" />
    <bpmn:intermediateCatchEvent id="Event_16c4tg0" name="continue send process with error">
      <bpmn:incoming>Flow_0egy89t</bpmn:incoming>
      <bpmn:outgoing>Flow_0soepqw</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0ch3mzt" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0egy89t" sourceRef="Gateway_1msqj8s" targetRef="Event_16c4tg0" />
    <bpmn:intermediateCatchEvent id="Event_1gmzyd0">
      <bpmn:incoming>Flow_1dsdmf9</bpmn:incoming>
      <bpmn:outgoing>Flow_0yofyrq</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1j4t0z6" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_1dsdmf9" sourceRef="Gateway_1msqj8s" targetRef="Event_1gmzyd0" />
    <bpmn:sequenceFlow id="Flow_0yofyrq" sourceRef="Event_1gmzyd0" targetRef="Activity_1qen8dc" />
    <bpmn:sequenceFlow id="Flow_009empz" sourceRef="Event_18orse0" targetRef="Gateway_1lp4ez4" />
    <bpmn:sequenceFlow id="Flow_0soepqw" sourceRef="Event_16c4tg0" targetRef="Gateway_1lp4ez4" />
    <bpmn:sequenceFlow id="Flow_0tjvgz8" sourceRef="Event_10mjddt" targetRef="Gateway_1lp4ez4" />
  </bpmn:process>
  <bpmn:message id="Message_1c7e014" name="stopTimer" />
  <bpmn:message id="Message_1u007k0" name="startTimer" />
  <bpmn:message id="Message_0mcjkpi" name="startDataSend" />
  <bpmn:message id="Message_1jn7i5w" name="startDataTranslate" />
  <bpmn:message id="Message_1qr9h21" name="startDataSendWithRbf" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="wwwnetzwerk-universitaetsmedizinde_dataSend">
      <bpmndi:BPMNEdge id="Flow_06456ku_di" bpmnElement="Flow_06456ku">
        <di:waypoint x="370" y="140" />
        <di:waypoint x="440" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0pt6h5d_di" bpmnElement="Flow_0pt6h5d">
        <di:waypoint x="740" y="295" />
        <di:waypoint x="740" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="651" y="324" width="78" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05s6sr1_di" bpmnElement="Flow_05s6sr1">
        <di:waypoint x="765" y="270" />
        <di:waypoint x="830" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wugx7a_di" bpmnElement="Flow_0wugx7a">
        <di:waypoint x="630" y="165" />
        <di:waypoint x="630" y="270" />
        <di:waypoint x="715" y="270" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="643" y="176" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0odw7ag_di" bpmnElement="Flow_0odw7ag">
        <di:waypoint x="655" y="140" />
        <di:waypoint x="1005" y="140" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="667" y="120" width="64" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12xkou2_di" bpmnElement="Flow_12xkou2">
        <di:waypoint x="880" y="230" />
        <di:waypoint x="880" y="170" />
        <di:waypoint x="1000" y="170" />
        <di:waypoint x="1018" y="153" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g5a4jz_di" bpmnElement="Flow_0g5a4jz">
        <di:waypoint x="540" y="140" />
        <di:waypoint x="605" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tsm3rc_di" bpmnElement="Flow_0tsm3rc">
        <di:waypoint x="1030" y="165" />
        <di:waypoint x="1030" y="430" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1045" y="216" width="69" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wpfzi1_di" bpmnElement="Flow_0wpfzi1">
        <di:waypoint x="1055" y="140" />
        <di:waypoint x="1120" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0smf5sr_di" bpmnElement="Flow_0smf5sr">
        <di:waypoint x="1540" y="140" />
        <di:waypoint x="1600" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_109e2pt_di" bpmnElement="Flow_109e2pt">
        <di:waypoint x="1700" y="140" />
        <di:waypoint x="1782" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zrvqk8_di" bpmnElement="Flow_0zrvqk8">
        <di:waypoint x="1380" y="140" />
        <di:waypoint x="1440" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yamo5r_di" bpmnElement="Flow_0yamo5r">
        <di:waypoint x="1220" y="140" />
        <di:waypoint x="1280" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1km61ly_di" bpmnElement="Flow_1km61ly">
        <di:waypoint x="198" y="140" />
        <di:waypoint x="270" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15lb3lf_di" bpmnElement="Flow_15lb3lf">
        <di:waypoint x="2530" y="140" />
        <di:waypoint x="2595" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_143c49o_di" bpmnElement="Flow_143c49o">
        <di:waypoint x="2360" y="140" />
        <di:waypoint x="2430" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01cz1ir_di" bpmnElement="Flow_01cz1ir">
        <di:waypoint x="1700" y="198" />
        <di:waypoint x="1700" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mff8mx_di" bpmnElement="Flow_1mff8mx">
        <di:waypoint x="1540" y="198" />
        <di:waypoint x="1540" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sy09vc_di" bpmnElement="Flow_0sy09vc">
        <di:waypoint x="1380" y="198" />
        <di:waypoint x="1380" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_040kkv8_di" bpmnElement="Flow_040kkv8">
        <di:waypoint x="1220" y="198" />
        <di:waypoint x="1220" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nrf7fq_di" bpmnElement="Flow_0nrf7fq">
        <di:waypoint x="1030" y="510" />
        <di:waypoint x="1030" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18cfw7e_di" bpmnElement="Flow_18cfw7e">
        <di:waypoint x="930" y="328" />
        <di:waypoint x="930" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04t997c_di" bpmnElement="Flow_04t997c">
        <di:waypoint x="740" y="510" />
        <di:waypoint x="740" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yow5g2_di" bpmnElement="Flow_0yow5g2">
        <di:waypoint x="540" y="198" />
        <di:waypoint x="540" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ojlya5_di" bpmnElement="Flow_1ojlya5">
        <di:waypoint x="370" y="198" />
        <di:waypoint x="370" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yj09fp_di" bpmnElement="Flow_1yj09fp">
        <di:waypoint x="2645" y="140" />
        <di:waypoint x="2900" y="140" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2649" y="120" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0s9c6mf_di" bpmnElement="Flow_0s9c6mf">
        <di:waypoint x="2633" y="153" />
        <di:waypoint x="2650" y="170" />
        <di:waypoint x="2650" y="270" />
        <di:waypoint x="2730" y="270" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2663" y="171.99999999999997" width="74" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ervxi8_di" bpmnElement="Flow_0ervxi8">
        <di:waypoint x="2620" y="165" />
        <di:waypoint x="2620" y="530" />
        <di:waypoint x="2805" y="530" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2577" y="172" width="25" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ixpqv3_di" bpmnElement="Flow_0ixpqv3">
        <di:waypoint x="3000" y="140" />
        <di:waypoint x="3052" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16ouahu_di" bpmnElement="Flow_16ouahu">
        <di:waypoint x="2855" y="530" />
        <di:waypoint x="2900" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_188eh1h_di" bpmnElement="Flow_188eh1h">
        <di:waypoint x="3000" y="530" />
        <di:waypoint x="3052" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1784u2y_di" bpmnElement="Flow_1784u2y">
        <di:waypoint x="2830" y="328" />
        <di:waypoint x="2830" y="505" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cyogvc_di" bpmnElement="Flow_0cyogvc">
        <di:waypoint x="2360" y="198" />
        <di:waypoint x="2360" y="530" />
        <di:waypoint x="2805" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nml49u_di" bpmnElement="Flow_0nml49u">
        <di:waypoint x="2830" y="270" />
        <di:waypoint x="2900" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0n0bslx_di" bpmnElement="Flow_0n0bslx">
        <di:waypoint x="3000" y="270" />
        <di:waypoint x="3052" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15v0mpq_di" bpmnElement="Flow_15v0mpq">
        <di:waypoint x="2185" y="140" />
        <di:waypoint x="2260" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tal48r_di" bpmnElement="Flow_1tal48r">
        <di:waypoint x="2160" y="430" />
        <di:waypoint x="2160" y="165" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1oxjmgh_di" bpmnElement="Flow_1oxjmgh">
        <di:waypoint x="1818" y="140" />
        <di:waypoint x="1895" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pyjkzx_di" bpmnElement="Flow_1pyjkzx">
        <di:waypoint x="1945" y="140" />
        <di:waypoint x="2022" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lcotqz_di" bpmnElement="Flow_0lcotqz">
        <di:waypoint x="1920" y="165" />
        <di:waypoint x="1920" y="250" />
        <di:waypoint x="2022" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0egy89t_di" bpmnElement="Flow_0egy89t">
        <di:waypoint x="1920" y="165" />
        <di:waypoint x="1920" y="360" />
        <di:waypoint x="2022" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dsdmf9_di" bpmnElement="Flow_1dsdmf9">
        <di:waypoint x="1920" y="165" />
        <di:waypoint x="1920" y="470" />
        <di:waypoint x="2022" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yofyrq_di" bpmnElement="Flow_0yofyrq">
        <di:waypoint x="2058" y="470" />
        <di:waypoint x="2110" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_009empz_di" bpmnElement="Flow_009empz">
        <di:waypoint x="2058" y="140" />
        <di:waypoint x="2135" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0soepqw_di" bpmnElement="Flow_0soepqw">
        <di:waypoint x="2058" y="360" />
        <di:waypoint x="2160" y="360" />
        <di:waypoint x="2160" y="165" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tjvgz8_di" bpmnElement="Flow_0tjvgz8">
        <di:waypoint x="2058" y="250" />
        <di:waypoint x="2160" y="250" />
        <di:waypoint x="2160" y="165" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0kggab9_di" bpmnElement="DataSendMessageStartEvent">
        <dc:Bounds x="162" y="122" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="144" y="165" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1e4ychv_di" bpmnElement="CheckConsent">
        <dc:Bounds x="440" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0pw7tym_di" bpmnElement="extractPatientReference">
        <dc:Bounds x="270" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0qci4qw_di" bpmnElement="Gateway_0qci4qw" isMarkerVisible="true">
        <dc:Bounds x="605" y="115" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0p0ebgq_di" bpmnElement="ReadData">
        <dc:Bounds x="1120" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0d1am14_di" bpmnElement="ValidateData">
        <dc:Bounds x="1280" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mi94m2_di" bpmnElement="EncryptData">
        <dc:Bounds x="1440" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0d04yf5_di" bpmnElement="StoreDataForTransferHub">
        <dc:Bounds x="1600" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0h3dkik_di" bpmnElement="Gateway_0h3dkik" isMarkerVisible="true">
        <dc:Bounds x="1005" y="115" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0n4ds3s_di" bpmnElement="StartDataTranslateProcess">
        <dc:Bounds x="1782" y="122" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1758" y="85" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0ii6gnq_di" bpmnElement="Gateway_0ii6gnq" isMarkerVisible="true">
        <dc:Bounds x="715" y="245" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1btox3g_di" bpmnElement="resolvePsn">
        <dc:Bounds x="830" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_07s23p6_di" bpmnElement="Gateway_1msqj8s">
        <dc:Bounds x="1895" y="115" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18orse0_di" bpmnElement="Event_18orse0">
        <dc:Bounds x="2022" y="122" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2006" y="165" width="69" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_10mjddt_di" bpmnElement="Event_10mjddt">
        <dc:Bounds x="2022" y="232" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2003" y="275" width="74" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16c4tg0_di" bpmnElement="Event_16c4tg0">
        <dc:Bounds x="2022" y="342" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1996" y="385" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1gmzyd0_di" bpmnElement="Event_1gmzyd0">
        <dc:Bounds x="2022" y="452" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lp4ez4_di" bpmnElement="Gateway_1lp4ez4" isMarkerVisible="true">
        <dc:Bounds x="2135" y="115" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0og5zib_di" bpmnElement="Activity_1y9k3lt">
        <dc:Bounds x="2260" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1xl8e8s_di" bpmnElement="Activity_1xl8e8s">
        <dc:Bounds x="2430" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0if37bo_di" bpmnElement="Gateway_0if37bo" isMarkerVisible="true">
        <dc:Bounds x="2595" y="115" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1pp5ms7_di" bpmnElement="Event_1pp5ms7">
        <dc:Bounds x="3052" y="122" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1e8212a_di" bpmnElement="Activity_1e8212a">
        <dc:Bounds x="2900" y="100" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1o2m082_di" bpmnElement="Activity_1o2m082">
        <dc:Bounds x="2730" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1oi9ubs_di" bpmnElement="Activity_1oi9ubs">
        <dc:Bounds x="2900" y="230" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0rqmftl_di" bpmnElement="Event_0rqmftl">
        <dc:Bounds x="3052" y="252" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0lvtt2z_di" bpmnElement="Activity_1qen8dc">
        <dc:Bounds x="2110" y="430" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_13fyv2x_di" bpmnElement="Gateway_13fyv2x" isMarkerVisible="true">
        <dc:Bounds x="2805" y="505" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vorh8u_di" bpmnElement="Activity_0vorh8u">
        <dc:Bounds x="2900" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0gv80z3_di" bpmnElement="Event_0gv80z3">
        <dc:Bounds x="3052" y="512" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1uvryxy_di" bpmnElement="HandleNoConsentUsageAndTransfer">
        <dc:Bounds x="980" y="430" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_090s0pr_di" bpmnElement="handleNoConsentIdatMerge">
        <dc:Bounds x="690" y="430" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0qzm2eh_di" bpmnElement="Event_09702b0">
        <dc:Bounds x="352" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0tpjy7z_di" bpmnElement="Event_1a355wx">
        <dc:Bounds x="522" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0f6gwws_di" bpmnElement="Event_1h36t2u">
        <dc:Bounds x="1202" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0b3ejr5_di" bpmnElement="Event_0c8ajbv">
        <dc:Bounds x="1362" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1jv2po6_di" bpmnElement="Event_1l3631s">
        <dc:Bounds x="1522" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0fkfgqj_di" bpmnElement="Event_1cqf68a">
        <dc:Bounds x="1682" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1w7mplr_di" bpmnElement="Event_0wsri1t">
        <dc:Bounds x="912" y="292" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_05z3d6a_di" bpmnElement="Event_1hd3unp">
        <dc:Bounds x="2342" y="162" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0z6ujob_di" bpmnElement="Event_0z6ujob">
        <dc:Bounds x="2812" y="292" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
